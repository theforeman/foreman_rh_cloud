<%#
name: Configure Cloud Connector
snippet: false
template_inputs:
- name: cloud_connector_user
  required: true
  input_type: user
  advanced: false
  value_type: plain
  hidden_value: false
- name: cloud_connector_password
  required: true
  input_type: user
  advanced: false
  value_type: plain
  hidden_value: true
- name: cloud_connector_http_proxy
  required: false
  input_type: user
  advanced: true
  value_type: plain
  hidden_value: false
model: JobTemplate
job_category: Maintenance Operations
description_format: "%{template_name}"
provider_type: Ansible
kind: job_template
feature: ansible_configure_cloud_connector
%>

---
- hosts: all
  become: true
  vars:
    foreman_cloud_connector_url: "<%= foreman_server_url %>"
    foreman_cloud_connector_user: "<%= cloud_connector_user %>"
    foreman_cloud_connector_password: "<%= cloud_connector_password %>"
    foreman_cloud_connector_http_proxy: "<%= cloud_connector_http_proxy %>"
  roles:
    - theforeman.operations.cloud_connector
